<div class="createContentDiv">

  <div id="fullscreenDiv">
    <canvas id="fullscreenChart"></canvas>
    </div>

<form [formGroup]="chartForm" (ngSubmit)="addChart()" (change)="getChartFormChange()">
  
  <div style="display: flex; flex-wrap: wrap; flex-direction: column;">
    <mat-form-field>
        <mat-label>Chart Title</mat-label>
        <input type="text" matInput formControlName="chartTitle"
               placeholder="Title">
     </mat-form-field>
   

    <mat-form-field>
      <mat-label>Chart Subtitle</mat-label>
      <input type="text" matInput formControlName="chartSubtitle"
            placeholder="Subtitle">
  </mat-form-field>

  <div>
    <h4>Background Color</h4>
    <input type="color" matInput formControlName="chartBackgroundColor"
    value="#FFFFFF">       
  </div>
</div>

    <div>
      <div formArrayName="chartLabels" style="display: flex; flex-wrap: wrap; flex-direction: column;">
        <div *ngFor="let label of labels.controls; let i=index" style="margin:1%">
       <div [formGroupName]="i">
         <mat-form-field>
           <mat-label>Label</mat-label>
           <input type="text" matInput formControlName="label"
           placeholder="Label"> 
         </mat-form-field>
       </div>
      </div>

      <div>
       <button style="margin:1%" mat-raised-button color="primary" type="button" (click)="addLabel()">Add label</button>
       </div>
      </div>

    </div>    
    
        <div>
                <div style="display: flex; flex-wrap: wrap; flex-direction: column;">                    
              <mat-form-field>
                <mat-label>Dataset Label</mat-label>
                <input type="text" matInput formControlName="datasetLabel"
                placeholder="Label"> 
              </mat-form-field>

              <mat-form-field>
                <mat-label>Chart Type</mat-label>
                <mat-select matInput formControlName="datasetType" (selectionChange)="getChartFormChange()" >
                  <mat-option value="line">line</mat-option>
                  <mat-option value="bar">bar</mat-option>
                  <mat-option value="bar-horizontal">bar-horizontal</mat-option>
                  <mat-option value="pie">pie</mat-option>
                  <mat-option value="doughnut">doughnut</mat-option>
                  <mat-option value="polarArea">polarArea</mat-option>
                  </mat-select>
              </mat-form-field>

              <div id="backgroundColorExtender" (change)="calculateBackgroundColor()">
                <h4>Background Color</h4>
                <button mat-raised-button color="primary" type="button" (click)="addBackgroundColor()">Add</button>
                <input name="backgroundColorPicker" type="color">       
            </div>
           
              <input type="text" matInput formControlName="backgroundColor" readonly="true" [style.visibility]="'hidden'"/>
              
             <div id="borderColorExtender" (change)="calculateBorderColor()">
                <h4>Border Color</h4>
                <button mat-raised-button color="primary" type="button" (click)="addBorderColor()">Add</button>
                <input name="borderColorPicker" type="color">       
            </div>
  
             <input type="text" matInput formControlName="borderColor" readonly="true" readonly="true" [style.visibility]="'hidden'"/>
                   
             <div id="datasetValueExtender" (change)="calculateDatasetValue()">
              <h4>Dataset Values</h4>
              <button mat-raised-button color="primary" type="button" (click)="addDatasetValue()">Add</button>
              <input name="datasetValuePicker" type="number">              
            </div>         

            <input type="text" matInput formControlName="datasetValues" placeholder="Dataset Values" readonly="true" [style.visibility]="'hidden'"> 

           
     </div>
     </div>

     <div>
      <div style="display: flex; flex-wrap: wrap; flex-direction: column;">                    
        <mat-form-field>
          <mat-label>Label</mat-label>
          <input type="text" matInput formControlName="secondDatasetLabel"
          placeholder="Label"> 
        </mat-form-field>

        <mat-form-field>
            <mat-label>Chart Type</mat-label>
            <mat-select matInput formControlName="secondDatasetType" (selectionChange)="getChartFormChange()">
              <mat-option value="line">line</mat-option>
              <mat-option value="bar">bar</mat-option>
              <mat-option value="bar-horizontal">bar-horizontal</mat-option>
              <mat-option value="pie">pie</mat-option>
              <mat-option value="doughnut">doughnut</mat-option>
              <mat-option value="polarArea">polarArea</mat-option>
              </mat-select>
          </mat-form-field>

        <div id="backgroundSecondColorExtender" (change)="calculateSecondBackgroundColor()">
          <h4>Background Color</h4>
          <button mat-raised-button color="primary" type="button" (click)="addSecondBackgroundColor()">Add</button>
          <input name="backgroundSecondColorPicker" type="color">       
      </div>
     
        <input type="text" matInput formControlName="secondBackgroundColor" readonly="true" [style.visibility]="'hidden'"/>
        
       <div id="borderSecondColorExtender" (change)="calculateSecondBorderColor()">
          <h4>Border Color</h4>
          <button mat-raised-button color="primary" type="button" (click)="addSecondBorderColor()">Add</button>
          <input name="borderSecondColorPicker" type="color">       
      </div>

       <input type="text" matInput formControlName="secondBorderColor" readonly="true" [style.visibility]="'hidden'"/>
             
       <div id="datasetSecondValueExtender" (change)="calculateSecondDatasetValue()">
        <h4>Dataset Values</h4>
        <button mat-raised-button color="primary" type="button" (click)="addSecondDatasetValue()">Add</button>
        <input name="datasetSecondValuePicker" type="number">
      </div>
      
    <input type="text" matInput formControlName="secondDatasetValues" placeholder="Dataset Values" readonly="true" [style.visibility]="'hidden'"> 
                          

 
</div>
</div>


     <div>
      <button mat-raised-button class="createChartButton">Create Chart</button>
     </div>
</form>
</div>
